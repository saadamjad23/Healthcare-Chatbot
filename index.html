<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Gemini Healthcare Chatbot</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script type="importmap">
{
  "imports": {
    "@google/genai": "https://aistudiocdn.com/@google/genai@^1.19.0",
    "react": "https://aistudiocdn.com/react@^19.1.1",
    "react/": "https://aistudiocdn.com/react@^19.1.1/"
  }
}
</script>
  <style>
    /* Simple fade-in animation for new messages */
    @keyframes fade-in {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .animate-fade-in {
      animation: fade-in 0.3s ease-out forwards;
    }
    /* Hide scrollbar for Chrome, Safari and Opera */
    .no-scrollbar::-webkit-scrollbar {
        display: none;
    }
    /* Hide scrollbar for IE, Edge and Firefox */
    .no-scrollbar {
        -ms-overflow-style: none;  /* IE and Edge */
        scrollbar-width: none;  /* Firefox */
    }
  </style>
</head>
<body class="bg-slate-100 dark:bg-slate-900 font-sans">
  <div id="app" class="flex flex-col h-screen">
    <!-- Header -->
    <header class="bg-white/70 dark:bg-slate-900/70 backdrop-blur-lg shadow-sm fixed top-0 left-0 right-0 z-10">
      <div class="container mx-auto px-4 py-3 flex items-center justify-center">
        <!-- SparklesIcon -->
        <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-cyan-500 mr-3" viewBox="0 0 24 24" fill="currentColor">
          <path d="M12 2L9.5 9.5 2 12l7.5 2.5L12 22l2.5-7.5L22 12l-7.5-2.5z" />
        </svg>
        <h1 class="text-xl font-bold text-slate-800 dark:text-slate-200">
          Gemini Healthcare Assistant
        </h1>
      </div>
    </header>

    <!-- Chat Messages -->
    <main id="chat-container" class="flex-1 overflow-y-auto pt-20 pb-28 px-4 container mx-auto no-scrollbar">
      <!-- Messages will be injected here by JavaScript -->
    </main>

    <!-- Chat Input -->
    <div class="bg-white/80 dark:bg-slate-900/80 backdrop-blur-lg p-4 fixed bottom-0 left-0 right-0">
      <div class="container mx-auto">
        <form id="chat-form" class="flex items-center gap-4">
          <input
            id="chat-input"
            type="text"
            placeholder="Ask a health question..."
            class="flex-grow bg-slate-100 dark:bg-slate-800 border border-slate-300 dark:border-slate-700 rounded-full py-3 px-5 focus:outline-none focus:ring-2 focus:ring-cyan-500 disabled:opacity-50 text-slate-800 dark:text-slate-200"
          />
          <button
            id="send-button"
            type="submit"
            class="bg-cyan-500 text-white rounded-full p-3 hover:bg-cyan-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-cyan-500 disabled:bg-cyan-300 disabled:cursor-not-allowed transition-colors duration-200"
            aria-label="Send message"
          >
            <!-- SendIcon -->
            <svg id="send-icon" xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" viewBox="0 0 24 24" fill="currentColor">
              <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z" />
            </svg>
            <!-- Loading Spinner -->
            <svg id="loading-spinner" class="animate-spin h-6 w-6 text-white hidden" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
              <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
              <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
            </svg>
          </button>
        </form>
      </div>
    </div>
  </div>

  <!-- Message Templates -->
  <template id="bot-message-template">
    <div class="flex items-start gap-4 my-4 animate-fade-in">
      <div class="flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center bg-cyan-500 text-white">
        <!-- BotIcon -->
        <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" viewBox="0 0 24 24" fill="currentColor">
          <path d="M12 2a10 10 0 0 0-9.99 9h2a8 8 0 0 1 8-7.99V2zM22 12h-2a8 8 0 0 1-8 7.99V22A10 10 0 0 0 22 12zM4.01 13H2a10 10 0 0 0 9.99 9v-2.01a8 8 0 0 1-7.98-8zm15.98-2h2.01A10 10 0 0 0 12 2v2.01a8 8 0 0 1 7.99 8z" />
          <path d="M12 8a4 4 0 1 0 0 8 4 4 0 0 0 0-8zm-2 4a2 2 0 1 1 4 0 2 2 0 0 1-4 0z" />
        </svg>
      </div>
      <div class="relative px-4 py-3 rounded-2xl max-w-lg shadow-sm bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 rounded-tl-none">
        <p class="message-text text-sm whitespace-pre-wrap"></p>
      </div>
    </div>
  </template>

  <template id="user-message-template">
    <div class="flex items-start gap-4 my-4 animate-fade-in flex-row-reverse">
      <div class="flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center bg-slate-300 text-slate-700">
        <!-- UserIcon -->
        <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" viewBox="0 0 24 24" fill="currentColor">
          <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z" />
        </svg>
      </div>
      <div class="relative px-4 py-3 rounded-2xl max-w-lg shadow-sm bg-cyan-500 text-white rounded-tr-none">
        <p class="message-text text-sm whitespace-pre-wrap"></p>
      </div>
    </div>
  </template>
  
  <template id="typing-indicator-template">
    <div class="flex items-start gap-4 my-4 animate-fade-in">
        <div class="flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center bg-cyan-500 text-white">
            <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" viewBox="0 0 24 24" fill="currentColor">
                <path d="M12 2a10 10 0 0 0-9.99 9h2a8 8 0 0 1 8-7.99V2zM22 12h-2a8 8 0 0 1-8 7.99V22A10 10 0 0 0 22 12zM4.01 13H2a10 10 0 0 0 9.99 9v-2.01a8 8 0 0 1-7.98-8zm15.98-2h2.01A10 10 0 0 0 12 2v2.01a8 8 0 0 1 7.99 8z" />
                <path d="M12 8a4 4 0 1 0 0 8 4 4 0 0 0 0-8zm-2 4a2 2 0 1 1 4 0 2 2 0 0 1-4 0z" />
            </svg>
        </div>
        <div class="relative px-4 py-3 rounded-2xl max-w-lg shadow-sm bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 rounded-tl-none flex items-center space-x-1">
            <span class="w-2 h-2 bg-slate-400 rounded-full animate-pulse" style="animation-delay: 0s;"></span>
            <span class="w-2 h-2 bg-slate-400 rounded-full animate-pulse" style="animation-delay: 0.15s;"></span>
            <span class="w-2 h-2 bg-slate-400 rounded-full animate-pulse" style="animation-delay: 0.3s;"></span>
        </div>
    </div>
  </template>

  <script type="module" src="/index.tsx"></script>
</body>
</html>
